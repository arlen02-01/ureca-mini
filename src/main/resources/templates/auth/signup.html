<!DOCTYPE html>

<html lang="kor">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>
    
       
    <!-- CSS -->
	<link rel="stylesheet" th:href="@{/css/style.css}">

    
    <!-- 1) 기본값: 비로그인 시 null -->
    <script>
        var CURRENT_USER_ID = null;
    </script>

    <!-- 2) 로그인 된 경우에만 덮어쓰기 -->
    <script th:inline="javascript" sec:authorize="isAuthenticated()">
    /*<![CDATA[*/
        CURRENT_USER_ID = /*[[${#authentication.principal.id}]]*/ null;
    /*]]>*/
    </script>

    <!-- JS -->
    <script th:src="@{/js/script.js}"></script>
    

    <style>

        .loginSummit{

            display: flex;

            flex-direction: column;

        }

        .input-group{

            display: flex;

            justify-content: space-between;

            align-items: center;

        }

        .content{

            display: flex;

            flex-direction: column;

            align-items: center;

            height: 100%;

            max-width: 800px;

            width: 80%;

            border: 3px solid black;

        }

        .bdy{

            display: flex;

            justify-content: center;

            height: 100vh;

            width: 100%;

        }

        .localLogin{

            display: flex;

            justify-content: center;

        }

    </style>

</head>

<body class="bdy">

    <div class="content">
        <nav class="nav">

            <div class="logo">logo</div>
			
			<a class="title" href="/">또간집</a>


			<div class="auth">
			    <!-- 로그인 된 상태 -->
			    <span sec:authorize="isAuthenticated()">
			        <div class="welcome">
			            <span sec:authentication="name"></span>님 환영합니다!
			        </div>
			        <div class="auth-buttons">
			            <a href="/mypage" class="authBox">마이페이지</a>
			            <a href="/auth/logout" class="authBox">로그아웃</a>
			        </div>
			    </span>
			
			    <!-- 로그인 안 된 상태 -->
			    <span sec:authorize="isAnonymous()">
			        <div class="auth-buttons">
			            <a href="/auth/login" class="authBox">로그인</a>
			            <a href="/auth/signup" class="authBox">회원가입</a>
			        </div>
			    </span>
			</div>

        </nav>
        <h1>회원가입</h1>

        <form action="/auth/signup" method="POST">

            <div class="localLogin">

                <div class="loginSummit">



                    <div class="input-group">

                        <label for="email">아이디(email)</label>

                        <input type="text" id="email" name="email" required>

                    </div>  



                    <div class="input-group">

                        <label for="pw">비밀번호</label>

                        <input type="password" id="password" name="password" required>

                    </div>



                    <div class="input-group">

                        <label for="name">닉네임</label>

                        <input type="text" id="name" name="name" required>

                    </div>



                </div>



                <input type="hidden" name="provider" value="LOCAL">

                <input type="hidden" name="role" value="USER">



                <button type="submit" class="login-btn">회원가입</button>

            </div>

        </form><form action="post" >        

    </div>

</body>

</html>

